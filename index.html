<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>WEBSERVER</title>
</head>
<script type="text/javascript">
function ajax_post(cgiscript, info){
    var xmlhttp;
    if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp=new XMLHttpRequest();
    }
    else{// code for IE6, IE5
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function(){
        if (xmlhttp.readyState == 4 ){
            if(xmlhttp.status == 200){
                alert(xmlhttp.responseText);
            }
            else {
                alert(xmlhttp.responseText);
            }
        };
    }
    xmlhttp.open("POST", cgiscript, true);
    xmlhttp.setRequestHeader("Content-Type","application/json; charset=utf-8;");
    xmlhttp.send(info);
}

function websocket_test()
{
    if ("WebSocket" in window)
    {
        // 打开一个 web socket
        var ws = new WebSocket("ws://192.168.0.118:8888");
        ws.onopen = function()
        {
            // Web Socket 已连接上，使用 send() 方法发送数据
            var message = "1234567890";
            ws.send(message);
            alert("发送 " + message);
        };
        ws.onmessage = function (evt)
        {
            alert("接收 " + evt.data);
        };
        ws.onclose = function()
        {
            // 关闭 websocket
            alert("连接已关闭...");
        };
    }
    else
    {
        // 浏览器不支持 WebSocket
        alert("浏览器不支持 WebSocket!");
    }
}

</script>
<body>
hello my webserver.

<p><a href="pages/中文页面.html">文件名是中文的网页 测试url_decode</a></p>
<input type="button" value="测试POST方法执行cgiscript" onclick="ajax_post('cgibin/cgicpp', 'test')" />
<p><a href="javascript:websocket_test()">运行 WebSocket</a></p>


</body>

</html>